<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>Cillionaire</title>
		
		<link rel="stylesheet" href="vendor/bootstrap-4.0.0-beta-dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="cillionaire.css">
		
		<script type="text/javascript" src="vendor/jquery-3.2.1.min.js"></script>
		<script src="vendor/popper.js-1.12.2/umd/popper.min.js"></script>
		<script src="vendor/bootstrap-4.0.0-beta-dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="vendor/web3.min.js"></script>
		<script type="text/javascript" src="cillionaire.js"></script>
	</head>
	<body>
    <div class="container">
			
			<div class="row">
				<div class="col-sm">
					<h3 class="margin-top">Cillionaire - Let's make a Crypto-Millionaire</h3>
					Cillionaire is a donation game where each participant contributes the same stake until a pre-defined pot limit is reached. <br>Then, a winner is chosen randomly from the participants. In the event that the game is cancelled, all participants are refunded.<br> The smart contract handles the ETH transfers and enforces the rules. 
				</div>
			</div>
			
			<div class="row">
				<div class="col-sm-2">
			  	<label for="network" class="margin-top">Select Network</label>
				</div>
				<div class="col-sm-4">
			  	<select class="form-control margin-top-half" id="network">
			    	<option>Mainnet (MyEtherApi)</option>
						<option>Mainnet (Infura)</option>
			    	<option>Kovan Testnet (Infura)</option>
			  	</select>
				</div>
				<div class="col-sm-1">
					<div id="loading" class="margin-top" style="display:none;">Loading...</div>
				</div>
			</div>
			
			<div>
				<div class="row">
					<div class="col-sm">
						<h5 class="margin-top">Smart Contract Information</h5>
					</div>
				</div>
				<div class="row">
					<div class="col-sm">
						<div class="alert alert-danger" style="display:none;" id="contractError"></div>
					</div>
				</div>
				<div class="row">
					<label for="contractAddress" class="col-sm-2">Address</label>
					<div class="col-sm value" id="contractAddress"></div>
				</div>
				<div class="row">
					<label for="contractState" class="col-sm-2">State</label>
					<div class="col-sm value" id="contractState"></div>
				</div>
				<div class="row">
					<label for="contractPotTarget" class="col-sm-2">Pot Target</label>
					<div class="col-sm value" id="contractPotTarget"></div>
				</div>
				<div class="row">
					<label for="contractStake" class="col-sm-2">Stake</label>
					<div class="col-sm value" id="contractStake"></div>
				</div>
				<div class="row">
					<label for="contractFee" class="col-sm-2">Fee</label>
					<div class="col-sm value" id="contractFee"></div>
				</div>
				<div class="row">
					<label for="contractPot" class="col-sm-2">Pot</label>
					<div class="col-sm value" id="contractPot"></div>
				</div>
				<div class="row">
					<label for="contractParticipants" class="col-sm-2">#Participants</label>
					<div class="col-sm value" id="contractParticipants"></div>
				</div>
				<div class="row">
					<label for="contractWinner" class="col-sm-2">Winner</label>
					<div class="col-sm value" id="contractWinner"></div>
				</div>
			</div>
			
			<div>
				<div class="row">
					<div class="col-sm margin-bottom">
	 					<h5 class="margin-top">Actions</h5>
						The actions here generate a transaction that will be opened on MyEtherWallet in a new tab/window. There, you can send it using your preferred method of wallet access. If your browser blocks popups the generated URL will be displayed so you can navigate there manually.<br>
						<b>ATTENTION: Please make sure that you select the correct network in MyEtherWallet!<br>Especially if you act on the Mainnet contract, make sure to select a Mainnet node in MyEtherWallet.</b>
					</div>
				</div>
				<div class="row">
					<div class="col-sm">
						<div class="alert alert-danger" style="display:none;" id="actionsError"></div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm">
						<button id="btnParticipate" class="btn btn-primary" style="display:none;">Participate</button>
						<button id="btnWithdraw" class="btn btn-primary margin-top-half" style="display:none;">Withdraw</button>
						<button id="btnRefund" class="btn btn-primary margin-top-half" style="display:none;">Refund</button>
					</div>
				</div>
			</div>
			
		</div>
	</body>
</html>